<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Media Fullscreen Viewer</title>

<style>
    body {
        font-family: "Inter", Arial, sans-serif;
        background: #ffffff;
        color: #222;
        margin: 0;
        padding: 30px;
        text-align: center;
    }

    h2 {
        color: #30a9e0;
        font-weight: 600;
    }

    .upload-box {
        margin: 30px auto;
        padding: 40px;
        width: min(90%, 500px);
        background: #f9f9f9;
        border: 2px dashed #30a9e055;
        border-radius: 16px;
        transition: 0.3s;
    }

    .upload-box.dragover {
        border-color: #30a9e0;
        background: #e9f6ff;
    }

    #uploadLabel {
        display: inline-block;
        padding: 12px 24px;
        font-size: 16px;
        color: white;
        background: #30a9e0;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.25s;
        box-shadow: 0px 4px 10px rgba(48,169,224,0.3);
        margin-top: 10px;
    }

    #uploadLabel:hover {
        background: #2594c5;
    }

    #fileInput {
        display: none;
    }

    #mediaWrapper {
        margin-top: 30px;
        display: none;
        width: 100%;
        text-align: center;
        cursor: pointer;
    }

    #preview {
        max-width: 95%;
        max-height: 80vh;
        border-radius: 12px;
        box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
        opacity: 0;
        transform: scale(0.98);
        transition: 0.4s ease;
        display: block;
        margin: 0 auto;
    }

    #preview.visible {
        opacity: 1;
        transform: scale(1);
    }

    /* Fullscreen overlay */
    #fullscreenOverlay {
        display: none;
        position: fixed;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background:black;
        justify-content:center;
        align-items:center;
        z-index:9999;
        cursor: pointer;
    }

    #fsContent {
        max-width: 100%;
        max-height: 100%;
    }

    p {
        color: #666;
        font-size: 14px;
        margin-top: 10px;
    }
</style>
</head>

<body>

<h2>Upload Media (Image, GIF, MP4)</h2>

<div class="upload-box" id="dropZone">
    <p>Drag & Drop Your Media Here</p>
    <label id="uploadLabel" for="fileInput">Choose File</label>
    <input type="file" accept="image/*,video/mp4" id="fileInput">
</div>

<div id="mediaWrapper"></div>

<!-- Fullscreen overlay -->
<div id="fullscreenOverlay">
    <div id="fsContent"></div>
</div>

<script>
const fileInput = document.getElementById("fileInput");
const mediaWrapper = document.getElementById("mediaWrapper");
const dropZone = document.getElementById("dropZone");
const overlay = document.getElementById("fullscreenOverlay");
const fsContent = document.getElementById("fsContent");

// Handle file selection
function handleFile(file) {
    mediaWrapper.innerHTML = ""; 
    const type = file.type;

    let mediaElement;
    if (type.startsWith("image/")) {
        mediaElement = document.createElement("img");
        mediaElement.src = URL.createObjectURL(file);
    } else if (type === "video/mp4") {
        mediaElement = document.createElement("video");
        mediaElement.src = URL.createObjectURL(file);
        mediaElement.controls = true;
        mediaElement.autoplay = true;
        mediaElement.loop = true;
    } else {
        alert("Unsupported file type!");
        return;
    }

    mediaElement.id = "preview";
    mediaWrapper.appendChild(mediaElement);
    mediaWrapper.style.display = "block";

    setTimeout(() => mediaElement.classList.add("visible"), 10);
}

// Drag & drop events
dropZone.addEventListener("dragover", e => {
    e.preventDefault();
    dropZone.classList.add("dragover");
});

dropZone.addEventListener("dragleave", () => {
    dropZone.classList.remove("dragover");
});

dropZone.addEventListener("drop", e => {
    e.preventDefault();
    dropZone.classList.remove("dragover");
    if (e.dataTransfer.files[0]) handleFile(e.dataTransfer.files[0]);
});

// File input change
fileInput.addEventListener("change", () => {
    if (fileInput.files[0]) handleFile(fileInput.files[0]);
});

// Fullscreen overlay logic
mediaWrapper.addEventListener("click", () => {
    fsContent.innerHTML = mediaWrapper.innerHTML; // clone media
    const media = fsContent.querySelector("#preview");

    media.style.maxWidth = "100%";
    media.style.maxHeight = "100%";
    media.style.borderRadius = "0";

    if (media.tagName === "VIDEO") {
        media.autoplay = true;
        media.controls = true;
        media.loop = true;
        media.play();
    }

    overlay.style.display = "flex";
});

// Exit fullscreen on click
overlay.addEventListener("click", () => {
    overlay.style.display = "none";
    fsContent.innerHTML = "";
});
</script>

</body>
</html>
