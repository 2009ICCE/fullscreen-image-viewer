<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fullscreen Media Viewer</title>
<style>
body { margin:0; font-family: sans-serif; text-align:center; background:#fff; color:#222; padding:20px; }
h2 { color:#30a9e0; }
.upload-box {
    margin:20px auto; padding:20px; width:min(90%,400px);
    border:2px dashed #30a9e055; border-radius:12px;
    transition:.3s;
}
.upload-box.dragover { border-color:#30a9e0; background:#e9f6ff; }
#uploadLabel {
    display:inline-block; padding:10px 20px; color:#fff;
    background:#30a9e0; border-radius:8px; cursor:pointer;
}
#uploadLabel:hover { background:#2594c5; }
#fileInput { display:none; }
#mediaWrapper { margin-top:20px; cursor:pointer; }
#preview { max-width:95%; max-height:50vh; border-radius:12px; transition:.3s; display:block; margin:0 auto; }
#fullscreenOverlay {
    display:none; position:fixed; top:0; left:0; width:100vw; height:100vh;
    background:black; justify-content:center; align-items:center; z-index:9999; cursor:pointer;
    display:flex;
}
#fsContent img,#fsContent video { max-width:100vw; max-height:100vh; width:auto; height:auto; object-fit:contain; }
</style>
</head>
<body>

<h2>Upload Media (Image, GIF, MP4)</h2>

<div class="upload-box" id="dropZone">
    <p>Drag & Drop Your Media Here</p>
    <label id="uploadLabel" for="fileInput">Choose File</label>
    <input type="file" accept="image/*,video/mp4" id="fileInput">
</div>

<div id="mediaWrapper"></div>
<div id="fullscreenOverlay"><div id="fsContent"></div></div>

<script>
const fileInput = document.getElementById("fileInput");
const mediaWrapper = document.getElementById("mediaWrapper");
const dropZone = document.getElementById("dropZone");
const overlay = document.getElementById("fullscreenOverlay");
const fsContent = document.getElementById("fsContent");

// Handle file upload
function handleFile(file){
    mediaWrapper.innerHTML = "";
    let media;
    if(file.type.startsWith("image/")) media=document.createElement("img"), media.src=URL.createObjectURL(file);
    else if(file.type==="video/mp4") media=document.createElement("video"), media.src=URL.createObjectURL(file), media.playsInline=true, media.controls=false;
    else return alert("Unsupported file type");
    media.id="preview";
    mediaWrapper.appendChild(media);
    mediaWrapper.style.display="block";
}

// Drag & drop
dropZone.addEventListener("dragover",e=>{ e.preventDefault(); dropZone.classList.add("dragover"); });
dropZone.addEventListener("dragleave",()=>{ dropZone.classList.remove("dragover"); });
dropZone.addEventListener("drop",e=>{ e.preventDefault(); dropZone.classList.remove("dragover"); if(e.dataTransfer.files[0]) handleFile(e.dataTransfer.files[0]); });
fileInput.addEventListener("change",()=>{ if(fileInput.files[0]) handleFile(fileInput.files[0]); });

// Fullscreen
mediaWrapper.addEventListener("click",()=>{
    fsContent.innerHTML=mediaWrapper.innerHTML;
    const media=fsContent.querySelector("#preview");
    overlay.style.display="flex";
    if(overlay.requestFullscreen) overlay.requestFullscreen();
    else if(overlay.webkitRequestFullscreen) overlay.webkitRequestFullscreen();
    else if(overlay.msRequestFullscreen) overlay.msRequestFullscreen();
    if(media.tagName==="VIDEO") media.autoplay=true, media.controls=true, media.loop=true, media.play();
});

// Exit fullscreen
overlay.addEventListener("click",()=>{
    overlay.style.display="none";
    fsContent.innerHTML="";
    if(document.fullscreenElement) document.exitFullscreen();
    else if(document.webkitFullscreenElement) document.webkitExitFullscreen();
    else if(document.msFullscreenElement) document.msExitFullscreen();
});
</script>
</body>
</html>
